

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Interactive Learning with a Fake User &mdash; Rasa Core 0.7.0a9 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="_static/banner.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="Rasa Core 0.7.0a9 documentation" href="index.html"/>
        <link rel="next" title="Common Patterns" href="patterns.html"/>
        <link rel="prev" title="Supervised Learning Tutorial" href="tutorial_babi.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Rasa Core
          

          
          </a>

          
            
            
              <div class="version">
                0.7
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="read_first.html">Read this first</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation and Hello World</a></li>
<li class="toctree-l1"><a class="reference internal" href="tour.html">A Quick Tour (no ML)</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial_scratch.html">A Bot From Scratch</a></li>
</ul>
<p class="caption"><span class="caption-text">More Tutorials</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="tutorial_babi.html">Supervised Learning Tutorial</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Interactive Learning with a Fake User</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#model-and-data">Model and Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="#why-interactive-learning">Why Interactive Learning?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#example-fake-user">Example: Fake User</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#tips">Tips</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Deep Dives</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="patterns.html">Common Patterns</a></li>
<li class="toctree-l1"><a class="reference internal" href="plumbing.html">Plumbing - How it all fits together</a></li>
<li class="toctree-l1"><a class="reference internal" href="http.html">Rasa Core as a HTTP server</a></li>
<li class="toctree-l1"><a class="reference internal" href="domains.html">Domain, Slots, and Actions</a></li>
<li class="toctree-l1"><a class="reference internal" href="connectors.html">Connecting to messaging &amp; voice platforms</a></li>
<li class="toctree-l1"><a class="reference internal" href="stories.html">Training Data Format</a></li>
<li class="toctree-l1"><a class="reference internal" href="scheduling.html">Scheduling Reminders</a></li>
</ul>
<p class="caption"><span class="caption-text">Python API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="api/agent.html">Agent</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/events.html">Events</a></li>
</ul>
<p class="caption"><span class="caption-text">Developer Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="featurisation.html">Featurization</a></li>
<li class="toctree-l1"><a class="reference internal" href="interpreters.html">Interpreters</a></li>
<li class="toctree-l1"><a class="reference internal" href="policies.html">Creating Policies</a></li>
<li class="toctree-l1"><a class="reference internal" href="state.html">Tracking Conversation State</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Change Log</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Rasa Core</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Interactive Learning with a Fake User</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/tutorial_fake_user.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  


    
    



    <p class="scv-banner scv-sphinx_rtd_theme"><b>Warning:</b> This document is for an old version of Rasa Core.</p>

<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast,
.nboutput.nblast {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast + .nbinput {
    margin-top: -19px;
}

/* nice headers on first paragraph of info/warning boxes */
.admonition .first {
    margin: -12px;
    padding: 6px 12px;
    margin-bottom: 12px;
    color: #fff;
    line-height: 1;
    display: block;
}
.admonition.warning .first {
    background: #f0b37e;
}
.admonition.note .first {
    background: #6ab0de;
}
.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}
</style>
<div class="section" id="interactive-learning-with-a-fake-user">
<span id="tutorial-fake-user"></span><h1>Interactive Learning with a Fake User<a class="headerlink" href="#interactive-learning-with-a-fake-user" title="Permalink to this headline">¶</a></h1>
<p>In this example we will:</p>
<ul class="simple">
<li>Introduce the platform for interactive interactive policy learning</li>
<li>Do a test example against a fake user</li>
</ul>
<div class="section" id="model-and-data">
<h2>Model and Data<a class="headerlink" href="#model-and-data" title="Permalink to this headline">¶</a></h2>
<p>We do a similar task to the <code class="docutils literal"><span class="pre">examples/babi</span></code> example where we want a
chatbot to help recommend restaurants. Because of this we use an almost
identical <code class="docutils literal"><span class="pre">Policy</span></code> and <code class="docutils literal"><span class="pre">Domain</span></code> which are found in <code class="docutils literal"><span class="pre">restaurant_policy.py</span></code>.
However we trim some actions to simplify the action space as this is only an example.</p>
<p>If you are interested in the practicalities of the model, then the bAbI
example <a class="reference internal" href="tutorial_babi.html#tutorial-babi"><span class="std std-ref">Supervised Learning Tutorial</span></a> is worth reading.</p>
</div>
<div class="section" id="why-interactive-learning">
<h2>Why Interactive Learning?<a class="headerlink" href="#why-interactive-learning" title="Permalink to this headline">¶</a></h2>
<p>There are some complications to chatbot training which makes them more
tricky than most machine learning problems.</p>
<p>The first is that there
are several ways of getting to the same goal, and they may all be equivalently good.
Therefore it is wrong to say with certainty that given X, you should do Y,
and if you do not do exactly Y then you are wrong. This is essentially
what you do in a fully supervised learning case. We want the bot
to be able to learn it can get to a successful state through a number of
different means.</p>
<p>Secondly, the utterances from users will be strongly affected by the
actions of the bot. That means that a network trained on pre-collected
data will suffer from <a class="reference external" href="https://arxiv.org/abs/1511.06732">exposure bias</a>,
this is when a system is trained to make predictions but is never given the ability to train on its own predictions, instead being given the
ground truth every time. This has been shown to have issues when trying
to predict sequences multiple steps into the future.</p>
<p>Also, from a practical perspective Rasa Core developers should be able to train
via the <a class="reference external" href="https://en.wikipedia.org/wiki/Wizard_of_Oz_experiment">Wizard of Oz</a>
method. I.e. if you want a bot to do a certain task, you can simply
pretend to be a bot for a little while and at the end it will learn how
to respond. This is a good way of learning how to make natural and flowing
conversations.</p>
</div>
<div class="section" id="example-fake-user">
<h2>Example: Fake User<a class="headerlink" href="#example-fake-user" title="Permalink to this headline">¶</a></h2>
<p>For our example we have a fake user who decides they want to book a table
at a restaurant. <strong>They decide at the start what cuisine, location, price
and number of people they want at the dinner, it is your job to find it out.</strong></p>
<p>Once you believe that your slots (cuisine, location, etc.) are the correct ones,
you may suggest a restaurant. If your slots match theirs then they will affirm
and it will have been a successful dialogue. <strong>Once you have completed
a dialogue, choose the reset action to start again from the beginning</strong>.</p>
<p>After several rounds of this the network should begin to learn how to respond
and you should not need to help much!</p>
<p>If you want to try to improve on a pre-trained model, go for</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>python examples/fake_user/train.py pretrained
</pre></div>
</div>
<p>Or if you want to get started from almost absolute scratch then run</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>python examples/fake_user/train.py scratch
</pre></div>
</div>
<p>The experience should look a bit like this gif:</p>
<img alt="_images/interactive.gif" src="_images/interactive.gif" />
<div class="section" id="tips">
<h3>Tips<a class="headerlink" href="#tips" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Make sure that once the user provides you with an entity you either have slot that is named exactly like the entity or you manually store the entites value in a slot</li>
<li>Ask! If you haven&#8217;t got one of the slots that you need, choose the corresponding action to ask for the slot value.</li>
<li>The fake user might change their mind, so keep on your toes.</li>
<li>If the conversation is going really badly, just select the reset action and try again.</li>
</ul>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="patterns.html" class="btn btn-neutral float-right" title="Common Patterns" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="tutorial_babi.html" class="btn btn-neutral" title="Supervised Learning Tutorial" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Rasa Technologies GmbH.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
        <span class="fa fa-book"> Other Versions</span>
        v: 0.6.9
        <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
        <dl>
            <dt>Tags</dt>
            <dd><a href="../0.8.5/index.html">0.8.5</a></dd>
            <dd><a href="../0.8.4/index.html">0.8.4</a></dd>
            <dd><a href="../0.8.3/index.html">0.8.3</a></dd>
            <dd><a href="../0.8.2/index.html">0.8.2</a></dd>
            <dd><a href="../0.8.1/index.html">0.8.1</a></dd>
            <dd><a href="../0.8.0/index.html">0.8.0</a></dd>
            <dd><a href="../0.7.9/index.html">0.7.9</a></dd>
            <dd><a href="tutorial_fake_user.html">0.6.9</a></dd>
        </dl>
        <dl>
            <dt>Branches</dt>
            <dd><a href="../master/index.html">master</a></dd>
        </dl>
    </div>
</div>


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.7.0a9',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>